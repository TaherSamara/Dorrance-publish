@model IEnumerable<dorranceCP.Models.GetBookUserWithPeriods_Result>

@{
    ViewBag.Title = " Author Statements";
    //var adm = ViewBag.adm as IEnumerable<dorranceCP.Models.Orders>;
    dorranceCP.Models.NS_DorranceEntities db = new dorranceCP.Models.NS_DorranceEntities();
    //int id = ViewBag.aid;
    string url2 = "http://portal.dorrancepublishing.com/Content/Images/Original/";
    var user = ViewBag.User as dorranceCP.Models.admin;
    //var adm = db.Orders.Where(x1 => x1.is_delete == false && x1.auther_id == id).ToList();
    //var suh = db.authers.Where(y => y.id == id).FirstOrDefault();
    //Layout = null;
    /////// !important  : this view to Get Order of Last Period  ///////
}


<style>
    tr,th{
            text-align: left !important;
    }
</style>


<style>
    .table thead tr th {
        font-size: 16px !important;
    }

    .container {
        max-width: 95% !important;
    }

    th, td {
        text-align: center;
    }
     .AdvanceSearch .selectric-wrapper {
            width: 20% !important;
        }

        /*.table thead tr th {
            padding: 17px !important;
        }*/
    .chosen-container-single {
        width: 190px !important;
    }
           .chosen-select {
    display: block;
    width: 100%;
    height: calc(1.5em + .75rem + 2px);
    padding: .375rem .75rem;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: #495057;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid #ced4da;
    border-radius: .25rem;
    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}

    .chosen-choices{
        display: block !important;
    width: 100% !important;
    height: calc(2.5em + 1.75rem + -4px) !important;
    padding: 1.375rem 0.75rem !important;
    font-size: 1rem !important;
        /*display: block;
    width: 100%;
    height: calc(2.5em + 1.75rem + -4px);
    padding: 1.375rem 0.75rem;
    font-size: 1rem;*/
    font-weight: 400 !important;
    line-height: 1.5 !important;
    color: #495057 !important;
    background-color: #f3f6f9 !important;
    background-clip: padding-box !important;
      background-color: #F3F6F9 !important;
    border: .5px solid #AAAAAA !important;
    /*height: 60px;*/
    border-radius: 5px !important;
    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out !important;
    }
      .selectric-wrapper{
        display:none !important;
    }

         .chosen-single{
             height: calc(1.5em + 1.75rem + -4px) !important;
    padding: 0.475rem 0.75rem !important;
         }
</style>

<div class="pageBody">
    <div class="whiteOverlay">
    </div>
    <div class="container">
        @Html.Partial("_msg")
        <div class="row">
            <div class="pageHeader" style="width:100%;margin-left: 1%;padding-right: 6%;">
                
                <div>
                    <h4><a href="/CP/Home/dashboard">Home</a> / Author Statements</h4>
                    <h2 class="pageTitle">Author Statements</h2>
                    @*<span>Welcome Back , <span>@(user != null ? user.Name : "")</span></span>*@
                </div>
                <div class="clearfix tableHeader" style="width:100%;">
                    <form method="get">
                        <div class="searchPagination clearfix">
                            <div class="AdvanceSearch float-left" style="width:100%;margin-top:0 !important;">
                                <div class="form-group clearfix">
                                    <label class="control-label" style="float:left;margin-top: 1%;width:13%;">
                                        Book Title
                                    </label>
                                    @*<input style="width: 20%;margin: 3px;" value="@ViewBag.tit" name="tit" type="text" class="form-control" placeholder="Book Title">*@
                                    <select name="tit" tabindex="4" class="form-control advanceSerachSelect chosen-select statesSelect">
                                        <option  value="@ViewBag.tit" selected></option>
                                        @{
                                            var prod = db.book.Where(w => w.is_delete == false).ToList();

                                            foreach (var c3 in prod)
                                            {
                                                <option value="@c3.title">@c3.title</option>
                                            }
                                        }
                                        <option value=""></option>

                                    </select>
                                     <label class="control-label" style="margin-top: 1%;width:13%;">SKU/ISBN
                                     </label>
                                    <select name="sku" tabindex="4" class="form-control advanceSerachSelect chosen-select statesSelect">
                                        <option value="@ViewBag.sku" selected></option>
                                        @{
                                            var skus = db.book.Where(w => w.is_delete == false).ToList();

                                            foreach (var c3 in prod)
                                            {
                                                <option value="@c3.isbn13">@c3.isbn13</option>
                                            }
                                        }
                                        <option value=""></option>
                                    </select>
                                    @*<input style="width: 20%;margin: 3px;" value="@ViewBag.sku" name="sku" type="text" class="form-control searchByAuthor" placeholder="SKU/ISBN">*@

                                 </div>
                                <div class="form-group clearfix">
                                    <label class="control-label" style="float:left;margin-top: 1%;width:13%;">
                                        From Date Period
                                    </label>
                                    <input style="width: 20%;margin: 3px;" value="@ViewBag.date1" name="date1" type="date" title="From Date" class="form-control" placeholder="From Date">
                                    <label class="control-label" style="float:left;margin-top: 1%;width:13%;">
                                        From Date Period
                                    </label>
                                    <input style="width: 20%;margin: 3px;" value="@ViewBag.date2" name="date2" type="date" title="From Date" class="form-control" placeholder="From Date">

                                </div>
                                <div class="form-group clearfix">
                                    <label class="control-label" style="float:left;margin-top: 1%;width:13%;">
                                        To Date Period
                                    </label>
                                    <input style="width: 20%;margin: 3px;" value="@ViewBag.date3" name="date3" type="date" title="To Date" class="form-control" placeholder="To Date">
                                    <label class="control-label" style="float:left;margin-top: 1%;width:13%;">
                                        To Date Period
                                    </label>
                                    <input style="width: 20%;margin: 3px;" value="@ViewBag.date4" name="date4" type="date" title="To Date" class="form-control" placeholder="To Date">

                                </div>
                                <div class="form-group clearfix select first" style="background: #f3f6f9 !important;">

                                    <label class="control-label" style="float:left;margin-top: 1%;width:13%;">
                                        Author Name
                                    </label>
                                    <select name="id"  tabindex="4" class="form-control advanceSerachSelect chosen-select statesSelect">
                                        <option  value="@ViewBag.aid" selected></option>
                                        @{
                                            var authers = db.authers.Where(w => w.is_delete == false).ToList();

                                            foreach (var c in authers)
                                            {
                                                <option value="@c.id">@c.name</option>
                                            }
                                        }
                                        <option  value="0"></option>

                                    </select>
                                    <button type="submit" class="btn AdvanceSearchBtn" style="margin-top: 0;">Search</button>
                                    <a href="/CP/Authers/EarningsAuthor" type="submit" class="btn AdvanceSearchBtn" style="margin-top:0 !important;width: 5%;" title="Refresh"><i class="fa fa-refresh"></i></a>

                                 
                                </div>

                            </div>

                        </div>
                        @Html.Partial("_paging")
                    </form>

                </div>
            </div>

            @if (Model.Count() > 0)
            {
                <div style="width: 100%;">
                    <div class="table-responsive">
                        <table class="table" style="width: 100% !important;">
                            <thead>
                                <tr>
                                    <th hidden></th>
                                    <th width=3%>#No</th>
                                    <th width=10%>Period From</th>
                                    <th >Period To</th>
                                    <th  width=11%>Book Title</th>
                                    <th>SKU/ISBN</th>
                                    <th>Total</th>
                                    <th >Author Name</th>
                                    <th>Author Email</th>
                                    <th>Reset</th>
                                    @*<th>Settings</th>*@
                                </tr>
                            </thead>
                            <tbody>
                                @{ var i = 0;}
                                @foreach (var item in Model)
                                {
                                    i = i + 1;
                                    <tr>
                                        <td hidden></td>
                                        <td width=5%>#@i</td>
                                        <td>
                                            @item.from_date.Value.ToString("MM/dd/yyyy")
                                        </td>
                                        <td>@item.to_date.Value.ToString("MM/dd/yyyy")</td>
                                        <td>@item.title</td>
                                        <td>@item.sku</td>
                                        <td>$@item.total_earnings.Value.ToString("0.00")</td>
                                        <td maxlength="10" title="@item.name">@((!String.IsNullOrEmpty(item.name) ? (item.name.Length > 10 ? item.name.Substring(0, 10) + ".." : item.name) : ""))</td>
                                        <td maxlength="10" title="@item.email">@((!String.IsNullOrEmpty(item.email) ? (item.email.Length > 10 ? item.email.Substring(0, 10) + ".." : item.email) : ""))</td>
                                        <td>@(item.is_reset == false ? "not reset" : "reset")</td>
                                        
                                        @*<td width=3% class="settingsSec">
                                            <a href="javascript:;"
                                               class="float-right settings"><i class="fa fa-ellipsis-v"></i></a>
                                            <div class="settingBox">
                                                <ul>
                                                    <li>
                                                        <a href="/CP/Orders/Details/@item.id"><i class="fa fa-eye"></i>view Order</a>
                                                    </li>
                                                    <li>
                                                        <a href="/CP/Orders/Delete/@item.id" class="Confirm"> <i class="fa fa-trash"></i> Delete</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </td>*@
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
                                    }
                                    else
                                    {
                                        <div class="alert alert-info col-md-12">
                                            There is no data to display

                                        </div>
                                    }
        </div>
    </div>
</div>
